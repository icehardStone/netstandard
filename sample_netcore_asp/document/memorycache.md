# [MemoryCache]('')

通过减少生成内容所需的工作，缓存可以显著的提高应用的性能和可伸缩性。缓存最适用于不经常更改的数据，生成成本很高，通过缓存，可以从数据源返回的数据的副本速度快的多，应该对应用进行编写和测试，使得其永不依赖于缓存的数据。

## [IMemoryCache]('')

IMemoryCache表示存储在web服务器的内存中的还粗，粘性会话

* 限制缓存的大小 SetSize
* 设置过期时间 SetExpireTime
* 不要使用外部输入作为缓存键
* 过期扫描

> 内存中缓存是从应用程序中使用依赖关系注入引用的一种服务。 在构造函数中请求 IMemoryCache实例

## GC 内存回收

根据对象的生存期，将对象从一代移动到另一代，较高版本是不太常见的垃圾回收。短期生存周期始终保存在第0带中，例如:在web请求过程中引用的对象生存期很短，应用程序级别单一实例通常迁移到第二代。

### 使用SetSize,Size和SizeLimit限制缓存大小

Asp.Net Core 运行时候不会根据内存压力限制缓存大小，开发人员需要限制缓存大小，指定的大小以开发人员选择的单位。

### MemoryCache.Compact

尝试使用以下顺序删除缓存的指定 **百分比**

* 所有过期项
* 按优先级排序，首先删除最低优先级项
* 最近最少使用的对象、
* 绝对过期的项
* 具有最早的可调用过期想项目
  